
__kernel void fixColumnKernel(__global float *matrix, int size, int colId){

	int i = get_global_id(1);
	int j = get_global_id(0);

	__local float col[100];	
	__local float AColIdj;
	__local float colj[100];

	col[i] = matrix[i*size+ colId];
	if(col[i] != 0){
		colj[i] = matrix[i*size+j];
		AColIdj = matrix[colId*size + j];

		/* controllo  di non essere sulla diagonale */
		if(i != colId){
			colj[i] = colj[i] - AColIdj * col[i];
		}
	matrix[i*size + j] = colj[i];
	}

}




